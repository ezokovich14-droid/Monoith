{% extends "base.html" %}
{% block content %}

<h2 class="text-2xl font-bold mb-4">Produits</h2>

<table class="w-full bg-white shadow rounded">
    <thead class="bg-gray-200">
        <tr>
            <th class="p-2">Nom</th>
            <th class="p-2">Prix</th>
            <th class="p-2">Stock</th>
        </tr>
    </thead>
    <tbody id="products-table"></tbody>
</table>

<script>
fetch('/api/products/')
.then(res => res.json())
.then(data => {
    const table = document.getElementById('products-table');
    data.forEach(p => {
        table.innerHTML += `
        <tr class="border-t">
            <td class="p-2">${p.name}</td>
            <td class="p-2">${p.price}</td>
            <td class="p-2">${p.stock}</td>
        </tr>`;
    });
});
</script>

{% endblock %}
